<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Cửa hàng Thời trang - Khám phá phong cách vượt thời gian cho nam, nữ và trẻ em.">
    <meta name="keywords" content="thời trang, quần áo, phụ kiện, cửa hàng trực tuyến">
    <title>Cửa hàng Thời trang - Tối ưu cho Di động</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    <style>
        :root {
            --primary-color: #004080;
            --primary-color-dark: #003366;
            --light-bg: #fff;
            --light-text: #333;
            --dark-bg: #1a1a1a;
            --dark-text: #f0f0f0;
            --card-bg-light: #fff;
            --card-bg-dark: #3c3c3c;
            --header-bg-light: #ffffff;
            --header-bg-dark: #2c2c2c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Poppins', sans-serif;
            background: var(--light-bg);
            color: var(--light-text);
            transition: background 0.5s ease, color 0.5s ease;
        }
        body.dark-mode {
            background: var(--dark-bg);
            color: var(--dark-text);
        }
        .container {
            padding: 0 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* --- Header & Navigation --- */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: var(--header-bg-light);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: background 0.5s ease;
        }
        body.dark-mode header {
            background: var(--header-bg-dark);
        }
        .logo {
            font-size: 24px;
            font-weight: 600;
        }
        nav ul {
            list-style: none;
            display: flex;
            gap: 25px;
        }
        nav a {
            text-decoration: none;
            color: var(--light-text);
            transition: color 0.3s;
            font-weight: 600;
        }
        body.dark-mode nav a {
            color: var(--dark-text);
        }
        nav a:hover {
            color: var(--primary-color);
        }
        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .nav-toggle {
            display: none; /* Hide by default on desktop */
            font-size: 24px;
            background: none;
            border: none;
            color: var(--light-text);
            cursor: pointer;
        }
        body.dark-mode .nav-toggle {
            color: var(--dark-text);
        }

        /* --- Theme Toggle --- */
        .theme-toggle {
            position: relative;
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 15px;
            cursor: pointer;
            transition: background 0.5s ease;
        }
        .theme-toggle.dark { background: #444; }
        .theme-toggle .icon {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 26px;
            height: 26px;
            background: #fff;
            border-radius: 50%;
            transition: transform 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .theme-toggle.dark .icon { transform: translateX(30px); }
        .theme-toggle .icon::before {
            content: '\f185'; /* FontAwesome sun icon */
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            color: #f39c12;
            font-size: 18px;
        }
        .theme-toggle.dark .icon::before {
            content: '\f186'; /* FontAwesome moon icon */
            color: #f1c40f;
        }

        /* --- Banner --- */
        .banner {
            height: 60vh;
            max-height: 500px;
            background-image: url('https://images.unsplash.com/photo-1445205170230-053211b5f459');
            background-attachment: fixed;
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: #fff;
            position: relative;
        }
        .banner::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
        }
        .banner-content {
            z-index: 1;
            padding: 20px;
        }
        .banner h1 {
            font-size: 48px;
            margin: 0 0 20px 0;
        }
        .banner button {
            padding: 12px 25px;
            background: var(--primary-color);
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s, transform 0.3s;
        }
        .banner button:hover {
            background: var(--primary-color-dark);
            transform: scale(1.05);
        }

        /* --- Sections --- */
        .section {
            padding: 60px 20px;
        }
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            font-size: 32px;
        }

        /* --- Product Grid --- */
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 30px;
        }
        .product-card {
            text-align: center;
            background: var(--card-bg-light);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
            position: relative;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        body.dark-mode .product-card {
            background: var(--card-bg-dark);
        }
        .product-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .product-card .img-container {
            width: 100%;
            height: 250px;
            position: relative;
        }
        .product-card img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        .product-info {
            padding: 20px;
        }
        .product-info h3 {
            margin-bottom: 10px;
            font-size: 18px;
        }
        .product-info p {
            font-weight: 600;
            color: var(--primary-color);
        }
        .buy-icon {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary-color);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            transform: scale(0.8);
        }
        .product-card:hover .buy-icon {
            opacity: 1;
            transform: scale(1);
        }
        .buy-icon:hover {
             background: var(--primary-color);
             color: #fff;
        }


        /* --- Cart --- */
        .cart {
            background: #f9f9f9;
        }
        body.dark-mode .cart {
            background: #222;
        }
        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 10px;
            max-width: 600px;
            margin: 0 auto;
        }
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: var(--card-bg-light);
            border-radius: 5px;
        }
        body.dark-mode .cart-item {
            background: var(--card-bg-dark);
        }
        .cart-total {
            text-align: center;
            margin-top: 30px;
            font-size: 20px;
            font-weight: 600;
        }
        .cart-total p {
            margin-bottom: 20px;
        }
        .checkout-btn {
            padding: 12px 25px;
            background: var(--primary-color);
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            font-size: 16px;
            font-weight: 600;
            transition: background 0.3s, transform 0.3s;
        }
        .checkout-btn:hover {
            background: var(--primary-color-dark);
            transform: scale(1.05);
        }

        /* --- About Section --- */
        .about {
            text-align: center;
            font-size: 18px;
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }
        body.dark-mode .about {
            color: #ccc;
        }

        /* --- Modal --- */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.6);
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--light-bg);
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 450px;
            text-align: center;
            position: relative;
        }
        body.dark-mode .modal-content {
            background: var(--card-bg-dark);
            color: var(--dark-text);
        }
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            color: #888;
            cursor: pointer;
        }
        .modal-content h2 {
            margin-bottom: 20px;
        }
        .modal-content form {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .modal-content input, .modal-content textarea {
            padding: 12px;
            border-radius: 5px;
            border: 1px solid #ccc;
            font-family: 'Poppins', sans-serif;
        }
        .modal-content button {
            padding: 12px;
            background: var(--primary-color);
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
            font-weight: 600;
        }
        .modal-content button:hover {
            background: var(--primary-color-dark);
        }
        
        /* --- Toast Notification --- */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--primary-color);
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            z-index: 1002;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
            pointer-events: none;
        }
        .toast.show {
            opacity: 1;
            transform: translate(-50%, -10px);
        }

        /* --- Responsive Design --- */
        @media (max-width: 768px) {
            .nav-toggle {
                display: block; /* Show hamburger icon */
                z-index: 1001; /* Ensure it's above the nav menu */
            }
            nav {
                position: fixed;
                top: 0;
                right: -100%; /* Hide off-screen */
                width: 70%;
                height: 100vh;
                background: var(--header-bg-light);
                transition: right 0.4s ease-in-out;
                padding-top: 80px;
            }
            body.dark-mode nav {
                 background: var(--header-bg-dark);
            }
            nav.nav-active {
                right: 0; /* Slide in */
            }
            nav ul {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            .banner {
                /* Disable fixed background on mobile for better performance */
                background-attachment: scroll;
                height: 50vh;
            }
            .banner h1 {
                font-size: 32px;
            }
            .section-title {
                font-size: 28px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">Fashion</div>
        <nav id="main-nav">
            <ul>
                <li><a href="#home">Trang chủ</a></li>
                <li><a href="#products">Cửa hàng</a></li>
                <li><a href="#about">Giới thiệu</a></li>
                <li><a href="#contact">Liên hệ</a></li>
            </ul>
        </nav>
        <div class="header-right">
             <div class="theme-toggle" id="theme-toggle">
                <div class="icon"></div>
            </div>
            <button class="nav-toggle" id="nav-toggle" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <main>
        <section id="home" class="banner" data-aos="fade-in">
            <div class="banner-content">
                <h1 data-aos="fade-up" data-aos-delay="200">Khám phá Phong cách Vượt thời gian</h1>
                <a href="#products"><button data-aos="fade-up" data-aos-delay="400">Mua ngay</button></a>
            </div>
        </section>

        <section id="about" class="section about" data-aos="fade-up">
            <h2 class="section-title">Về Chúng Tôi</h2>
            <p>Chúng tôi là cửa hàng thời trang hàng đầu, mang đến cho bạn những sản phẩm chất lượng và phong cách nhất. Luôn cập nhật xu hướng mới để bạn tự tin thể hiện cá tính.</p>
        </section>

        <section id="products" class="section all-products" data-aos="fade-up">
            <div class="container">
                <h2 class="section-title">Tất Cả Sản Phẩm</h2>
                <div class="product-grid">
                    <div class="product-card" data-aos="fade-up" data-name="Áo khoác Thanh lịch" data-price="2500000">
                        <div class="img-container">
                            <img src="https://i.postimg.cc/K8hMD1Vk/z6727422682364-ea5cf189ed63a66d8aec5c63007fec5b.jpg" alt="Áo khoác Thanh lịch" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3>Áo khoác Thanh lịch</h3>
                            <p>2.500.000 VNĐ</p>
                        </div>
                        <div class="buy-icon" title="Thêm vào giỏ hàng"><i class="fas fa-shopping-cart"></i></div>
                    </div>
                    <div class="product-card" data-aos="fade-up" data-aos-delay="100" data-name="Váy Cổ điển" data-price="1900000">
                        <div class="img-container">
                             <img src="https://images.unsplash.com/photo-1525507119028-ed4c629203d3" alt="Váy Cổ điển" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3>Váy Cổ điển</h3>
                            <p>1.900.000 VNĐ</p>
                        </div>
                        <div class="buy-icon" title="Thêm vào giỏ hàng"><i class="fas fa-shopping-cart"></i></div>
                    </div>
                    <div class="product-card" data-aos="fade-up" data-aos-delay="200" data-name="Giày Phong cách" data-price="1500000">
                         <div class="img-container">
                            <img src="https://images.unsplash.com/photo-1512374226708-d42c4b1a1a44" alt="Giày Phong cách" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3>Giày Phong cách</h3>
                            <p>1.500.000 VNĐ</p>
                        </div>
                         <div class="buy-icon" title="Thêm vào giỏ hàng"><i class="fas fa-shopping-cart"></i></div>
                    </div>
                    <div class="product-card" data-aos="fade-up" data-aos-delay="300" data-name="Túi Da" data-price="3200000">
                        <div class="img-container">
                             <img src="https://images.unsplash.com/photo-1591195857868-2b3565eecf19" alt="Túi Da" loading="lazy">
                        </div>
                        <div class="product-info">
                            <h3>Túi Da</h3>
                            <p>3.200.000 VNĐ</p>
                        </div>
                        <div class="buy-icon" title="Thêm vào giỏ hàng"><i class="fas fa-shopping-cart"></i></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="contact" class="section cart" data-aos="fade-up">
            <div class="container">
                <h2 class="section-title">Giỏ Hàng</h2>
                <div class="cart-items">
                    <p class="empty-cart-message">Giỏ hàng của bạn đang trống.</p>
                </div>
                <div class="cart-total">
                    <p>Tổng cộng: <span id="total-price">0 VNĐ</span></p>
                    <button class="checkout-btn">Thanh toán</button>
                </div>
            </div>
        </section>
    </main>

    <div id="buyModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-modal-btn">&times;</span>
            <h2>Thông tin mua hàng</h2>
            <form id="buyForm">
                <input type="text" placeholder="Họ và tên" required>
                <input type="email" placeholder="Email" required>
                <input type="tel" placeholder="Số điện thoại" required>
                <textarea placeholder="Địa chỉ giao hàng" rows="3" required></textarea>
                <button type="submit">Xác nhận đơn hàng</button>
            </form>
        </div>
    </div>
    
    <div id="toast-notification" class="toast"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            AOS.init({
                duration: 800,
                once: true,
            });

            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            const navToggle = document.getElementById('nav-toggle');
            const mainNav = document.getElementById('main-nav');
            
            const buyModal = document.getElementById('buyModal');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const checkoutBtn = document.querySelector('.checkout-btn');
            const buyForm = document.getElementById('buyForm');

            const cartItemsContainer = document.querySelector('.cart-items');
            const emptyCartMessage = document.querySelector('.empty-cart-message');
            const totalPriceElement = document.getElementById('total-price');
            
            let cart = [];

            // --- Theme Toggler ---
            const currentTheme = localStorage.getItem('theme');
            if (currentTheme === 'dark') {
                body.classList.add('dark-mode');
                themeToggle.classList.add('dark');
            }
            themeToggle.addEventListener('click', () => {
                body.classList.toggle('dark-mode');
                themeToggle.classList.toggle('dark');
                localStorage.setItem('theme', body.classList.contains('dark-mode') ? 'dark' : 'light');
            });

            // --- Mobile Navigation ---
            navToggle.addEventListener('click', () => {
                mainNav.classList.toggle('nav-active');
            });
            mainNav.addEventListener('click', (e) => {
                if(e.target.tagName === 'A'){
                    mainNav.classList.remove('nav-active');
                }
            })

            // --- Toast Notification ---
            function showToast(message) {
                const toast = document.getElementById('toast-notification');
                toast.textContent = message;
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 2500);
            }

            // --- Cart Logic ---
            function updateCart() {
                if (cart.length === 0) {
                    cartItemsContainer.innerHTML = '<p class="empty-cart-message">Giỏ hàng của bạn đang trống.</p>';
                } else {
                     cartItemsContainer.innerHTML = ''; // Clear items
                }
               
                let total = 0;
                cart.forEach(item => {
                    const itemElement = document.createElement('div');
                    itemElement.classList.add('cart-item');
                    itemElement.innerHTML = `
                        <p>${item.name} x ${item.quantity}</p>
                        <p>${(item.price * item.quantity).toLocaleString('vi-VN')} VNĐ</p>
                    `;
                    cartItemsContainer.appendChild(itemElement);
                    total += item.price * item.quantity;
                });
                totalPriceElement.textContent = total.toLocaleString('vi-VN') + ' VNĐ';
            }

            function addToCart(name, price) {
                const existingItem = cart.find(item => item.name === name);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({ name, price: parseFloat(price), quantity: 1 });
                }
                updateCart();
                showToast(`Đã thêm "${name}" vào giỏ hàng!`);
            }

            document.querySelectorAll('.buy-icon').forEach(icon => {
                icon.addEventListener('click', (e) => {
                    const card = e.currentTarget.closest('.product-card');
                    const name = card.dataset.name;
                    const price = card.dataset.price;
                    addToCart(name, price);
                });
            });
            
            // --- Modal Logic ---
            checkoutBtn.addEventListener('click', () => {
                if (cart.length > 0) {
                    buyModal.style.display = 'flex';
                } else {
                    showToast('Giỏ hàng trống, vui lòng thêm sản phẩm!');
                }
            });

            closeModalBtn.addEventListener('click', () => {
                buyModal.style.display = 'none';
            });

            window.addEventListener('click', (e) => {
                if (e.target === buyModal) {
                    buyModal.style.display = 'none';
                }
            });

            buyForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const formData = new FormData(e.target);
                const customerData = Object.fromEntries(formData.entries());
                
                // Here you would typically send data to a server
                console.log('--- ĐƠN HÀNG MỚI ---');
                console.log('Thông tin khách hàng:', customerData);
                console.log('Sản phẩm đã đặt:', cart);
                
                buyModal.style.display = 'none';
                buyForm.reset();
                cart = []; // Clear cart after purchase
                updateCart();
                
                showToast('Đặt hàng thành công! Cảm ơn bạn.');
            });
            
            // Initial call
            updateCart();
        });
    </script>
</body>
</html>
